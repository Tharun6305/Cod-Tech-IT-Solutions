<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Subjects and Marks</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script type="text/javascript">
        // Function to add a new subject and marks field
        function addSubjectAndMarks() {
            var maxSubjects = 6; // Maximum number of subjects
            var subjectCount = document.querySelectorAll('select[name^="subject"]').length + 1;

            if (subjectCount <= maxSubjects) {
                var newRow = document.createElement('tr');
                newRow.innerHTML = '<td>Subject' + subjectCount + '</td>' +
                    '<td>' +
                    '<select name="subject' + subjectCount + '">' +
                    '<option value="">Select</option>' +
                    '<option value="Maths">Maths</option>' +
                    '<option value="Physics">Physics</option>' +
                    '<option value="Chemistry">Chemistry</option>' +
                    '<option value="English">English</option>' +
                    '<option value="Telugu">Telugu</option>' +
                    '<option value="Social">Social</option>' +
                    '</select>' +
                    '</td>' +
                    '<td>Marks' + subjectCount + '</td>' +
                    '<td><input type="text" name="marks' + subjectCount + '"></td>' +
                    '<td>Total Marks' + subjectCount + '</td>' +
                    '<td><input type="text" name="totalMarks' + subjectCount + '"></td>';
                document.getElementById('subjectTable').appendChild(newRow);
            } else {
                alert('Maximum number of subjects reached!');
            }
        }
    </script>
</head>
<body>
<div class="container" style="background-color: antiquewhite;">
	<div>
		<h3 style="text-align: center;color:blueviolet;">Enter Student Details And SubjectWise Marks!!</h3>
		<hr>
	</div>
    <form th:action="@{insertdata}" th:object="${msg}" method="post">
        <table id="subjectTable">
            <tr>
                <td>Student RollNumber</td>
                <td><input type="text" name="rollnumber"></td>
            </tr>
            <tr>
                <td>Student Name</td>
                <td><input type="text" name="studentname"></td>
            </tr>
            <tr>
                <td>Subject1</td>
                <td>
                    <select name="subject1">
                        <option value="">Select</option>
                        <option value="Maths">Maths</option>
                        <option value="Physics">Physics</option>
                        <option value="Chemistry">Chemistry</option>
                        <option value="English">English</option>
                        <option value="Telugu">Telugu</option>
                        <option value="Social">Social</option>
                    </select>
                </td>
                <td>Marks1</td>
                <td><input type="text" name="marks1"></td>
                <td>Total Marks1</td>
                <td><input type="text" name="totalMarks1"></td>
            </tr>
        </table>
        <button type="button" onclick="addSubjectAndMarks()">Add Subject and Marks</button>
        <input type="submit" name="save">
    </form>
    <hr>
    <div th:if="${msg != null}" align="center">
		<p th:text="${msg}" class="text-success"></p>
		<a th:href="@{/getData}">Get Data</a>
	</div><hr>
    <div style="text-align: center;">
	<a th:href="@{/login}" class="btn btn-primary" align="center">Back</a></div>
</div>

</body>
</html>


